[platformio]
default_envs = esp32c3-ir

[env:esp32c3-ir]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
monitor_speed = 115200
monitor_filters = direct
board_build.filesystem = littlefs

lib_deps =
  crankyoldgit/IRremoteESP8266 @ ^2.8.2
  bblanchon/ArduinoJson @ ^7.0.0
  ESP32Async/AsyncTCP
  ESP32Async/ESPAsyncWebServer

; Test-only env: builds ir_utils.cpp (no main.cpp, no WiFi/NVS/IR) and runs Unity tests on device.
; Usage: pio test -e esp32c3-test
[env:esp32c3-test]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino
monitor_speed = 115200
test_build_src = yes
build_src_filter = +<ir_utils.cpp> -<main.cpp>
